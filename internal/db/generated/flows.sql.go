// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: flows.sql

package generated

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const countAllDeviceCodeFlows = `-- name: CountAllDeviceCodeFlows :one
SELECT COUNT(*)
FROM device_code_flows
`

func (q *Queries) CountAllDeviceCodeFlows(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countAllDeviceCodeFlows)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countAllGithubOAuthFlows = `-- name: CountAllGithubOAuthFlows :one
SELECT COUNT(*)
FROM github_oauth_flows
`

func (q *Queries) CountAllGithubOAuthFlows(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countAllGithubOAuthFlows)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countAllGoogleOAuthFlows = `-- name: CountAllGoogleOAuthFlows :one
SELECT COUNT(*)
FROM google_oauth_flows
`

func (q *Queries) CountAllGoogleOAuthFlows(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countAllGoogleOAuthFlows)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countAllMagicLinkFlows = `-- name: CountAllMagicLinkFlows :one
SELECT COUNT(*)
FROM magic_link_flows
`

func (q *Queries) CountAllMagicLinkFlows(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countAllMagicLinkFlows)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createDeviceCodeFlow = `-- name: CreateDeviceCodeFlow :exec
INSERT INTO device_code_flows (identifier, code, poll, created_at)
VALUES ($1, $2, $3, CURRENT_TIMESTAMP)
`

type CreateDeviceCodeFlowParams struct {
	Identifier pgtype.UUID
	Code       string
	Poll       pgtype.UUID
}

func (q *Queries) CreateDeviceCodeFlow(ctx context.Context, arg CreateDeviceCodeFlowParams) error {
	_, err := q.db.Exec(ctx, createDeviceCodeFlow, arg.Identifier, arg.Code, arg.Poll)
	return err
}

const createGithubOAuthFlow = `-- name: CreateGithubOAuthFlow :exec
INSERT INTO github_oauth_flows (identifier, device_identifier, user_identifier, verifier, challenge, next_url,
                                created_at)
VALUES ($1, $2, $3, $4,
        $5, $6, CURRENT_TIMESTAMP)
`

type CreateGithubOAuthFlowParams struct {
	Identifier       pgtype.UUID
	DeviceIdentifier pgtype.UUID
	UserIdentifier   pgtype.UUID
	Verifier         string
	Challenge        string
	NextUrl          string
}

func (q *Queries) CreateGithubOAuthFlow(ctx context.Context, arg CreateGithubOAuthFlowParams) error {
	_, err := q.db.Exec(ctx, createGithubOAuthFlow,
		arg.Identifier,
		arg.DeviceIdentifier,
		arg.UserIdentifier,
		arg.Verifier,
		arg.Challenge,
		arg.NextUrl,
	)
	return err
}

const createGoogleOAuthFlow = `-- name: CreateGoogleOAuthFlow :exec
INSERT INTO google_oauth_flows (identifier, device_identifier, user_identifier, verifier, challenge, next_url,
                                created_at)
VALUES ($1, $2, $3, $4,
        $5, $6, CURRENT_TIMESTAMP)
`

type CreateGoogleOAuthFlowParams struct {
	Identifier       pgtype.UUID
	DeviceIdentifier pgtype.UUID
	UserIdentifier   pgtype.UUID
	Verifier         string
	Challenge        string
	NextUrl          string
}

func (q *Queries) CreateGoogleOAuthFlow(ctx context.Context, arg CreateGoogleOAuthFlowParams) error {
	_, err := q.db.Exec(ctx, createGoogleOAuthFlow,
		arg.Identifier,
		arg.DeviceIdentifier,
		arg.UserIdentifier,
		arg.Verifier,
		arg.Challenge,
		arg.NextUrl,
	)
	return err
}

const createMagicLinkFlow = `-- name: CreateMagicLinkFlow :exec
INSERT INTO magic_link_flows (identifier, device_identifier, user_identifier, next_url, salt, hash, email_address,
                              created_at)
VALUES ($1, $2, $3, $4,
        $5, $6, $7, CURRENT_TIMESTAMP)
`

type CreateMagicLinkFlowParams struct {
	Identifier       pgtype.UUID
	DeviceIdentifier pgtype.UUID
	UserIdentifier   pgtype.UUID
	NextUrl          string
	Salt             pgtype.UUID
	Hash             []byte
	EmailAddress     string
}

func (q *Queries) CreateMagicLinkFlow(ctx context.Context, arg CreateMagicLinkFlowParams) error {
	_, err := q.db.Exec(ctx, createMagicLinkFlow,
		arg.Identifier,
		arg.DeviceIdentifier,
		arg.UserIdentifier,
		arg.NextUrl,
		arg.Salt,
		arg.Hash,
		arg.EmailAddress,
	)
	return err
}

const deleteAllDeviceCodeFlows = `-- name: DeleteAllDeviceCodeFlows :execrows
DELETE
FROM device_code_flows
`

func (q *Queries) DeleteAllDeviceCodeFlows(ctx context.Context) (int64, error) {
	result, err := q.db.Exec(ctx, deleteAllDeviceCodeFlows)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteAllGithubOAuthFlows = `-- name: DeleteAllGithubOAuthFlows :execrows
DELETE
FROM github_oauth_flows
`

func (q *Queries) DeleteAllGithubOAuthFlows(ctx context.Context) (int64, error) {
	result, err := q.db.Exec(ctx, deleteAllGithubOAuthFlows)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteAllGoogleOAuthFlows = `-- name: DeleteAllGoogleOAuthFlows :execrows
DELETE
FROM google_oauth_flows
`

func (q *Queries) DeleteAllGoogleOAuthFlows(ctx context.Context) (int64, error) {
	result, err := q.db.Exec(ctx, deleteAllGoogleOAuthFlows)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteAllMagicLinkFlows = `-- name: DeleteAllMagicLinkFlows :execrows
DELETE
FROM magic_link_flows
`

func (q *Queries) DeleteAllMagicLinkFlows(ctx context.Context) (int64, error) {
	result, err := q.db.Exec(ctx, deleteAllMagicLinkFlows)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteDeviceCodeFlowByIdentifier = `-- name: DeleteDeviceCodeFlowByIdentifier :execrows
DELETE
FROM device_code_flows
WHERE identifier = $1
`

func (q *Queries) DeleteDeviceCodeFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (int64, error) {
	result, err := q.db.Exec(ctx, deleteDeviceCodeFlowByIdentifier, identifier)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteDeviceCodeFlowsBeforeCreatedAt = `-- name: DeleteDeviceCodeFlowsBeforeCreatedAt :execrows
DELETE
FROM device_code_flows
WHERE created_at < $1
`

func (q *Queries) DeleteDeviceCodeFlowsBeforeCreatedAt(ctx context.Context, createdAt pgtype.Timestamp) (int64, error) {
	result, err := q.db.Exec(ctx, deleteDeviceCodeFlowsBeforeCreatedAt, createdAt)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteGithubOAuthFlowByIdentifier = `-- name: DeleteGithubOAuthFlowByIdentifier :execrows
DELETE
FROM github_oauth_flows
WHERE identifier = $1
`

func (q *Queries) DeleteGithubOAuthFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (int64, error) {
	result, err := q.db.Exec(ctx, deleteGithubOAuthFlowByIdentifier, identifier)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteGithubOAuthFlowsBeforeCreatedAt = `-- name: DeleteGithubOAuthFlowsBeforeCreatedAt :execrows
DELETE
FROM github_oauth_flows
WHERE created_at < $1
`

func (q *Queries) DeleteGithubOAuthFlowsBeforeCreatedAt(ctx context.Context, createdAt pgtype.Timestamp) (int64, error) {
	result, err := q.db.Exec(ctx, deleteGithubOAuthFlowsBeforeCreatedAt, createdAt)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteGoogleOAuthFlowByIdentifier = `-- name: DeleteGoogleOAuthFlowByIdentifier :execrows
DELETE
FROM google_oauth_flows
WHERE identifier = $1
`

func (q *Queries) DeleteGoogleOAuthFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (int64, error) {
	result, err := q.db.Exec(ctx, deleteGoogleOAuthFlowByIdentifier, identifier)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteGoogleOAuthFlowsBeforeCreatedAt = `-- name: DeleteGoogleOAuthFlowsBeforeCreatedAt :execrows
DELETE
FROM google_oauth_flows
WHERE created_at < $1
`

func (q *Queries) DeleteGoogleOAuthFlowsBeforeCreatedAt(ctx context.Context, createdAt pgtype.Timestamp) (int64, error) {
	result, err := q.db.Exec(ctx, deleteGoogleOAuthFlowsBeforeCreatedAt, createdAt)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteMagicLinkFlowByIdentifier = `-- name: DeleteMagicLinkFlowByIdentifier :execrows
DELETE
FROM magic_link_flows
WHERE identifier = $1
`

func (q *Queries) DeleteMagicLinkFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (int64, error) {
	result, err := q.db.Exec(ctx, deleteMagicLinkFlowByIdentifier, identifier)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const deleteMagicLinkFlowsBeforeCreatedAt = `-- name: DeleteMagicLinkFlowsBeforeCreatedAt :execrows
DELETE
FROM magic_link_flows
WHERE created_at < $1
`

func (q *Queries) DeleteMagicLinkFlowsBeforeCreatedAt(ctx context.Context, createdAt pgtype.Timestamp) (int64, error) {
	result, err := q.db.Exec(ctx, deleteMagicLinkFlowsBeforeCreatedAt, createdAt)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const getDeviceCodeFlowByCode = `-- name: GetDeviceCodeFlowByCode :one
SELECT identifier, session_identifier, code, poll, last_poll, created_at
FROM device_code_flows
WHERE code = $1 LIMIT 1
`

func (q *Queries) GetDeviceCodeFlowByCode(ctx context.Context, code string) (DeviceCodeFlow, error) {
	row := q.db.QueryRow(ctx, getDeviceCodeFlowByCode, code)
	var i DeviceCodeFlow
	err := row.Scan(
		&i.Identifier,
		&i.SessionIdentifier,
		&i.Code,
		&i.Poll,
		&i.LastPoll,
		&i.CreatedAt,
	)
	return i, err
}

const getDeviceCodeFlowByIdentifier = `-- name: GetDeviceCodeFlowByIdentifier :one
SELECT identifier, session_identifier, code, poll, last_poll, created_at
FROM device_code_flows
WHERE identifier = $1 LIMIT 1
`

func (q *Queries) GetDeviceCodeFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (DeviceCodeFlow, error) {
	row := q.db.QueryRow(ctx, getDeviceCodeFlowByIdentifier, identifier)
	var i DeviceCodeFlow
	err := row.Scan(
		&i.Identifier,
		&i.SessionIdentifier,
		&i.Code,
		&i.Poll,
		&i.LastPoll,
		&i.CreatedAt,
	)
	return i, err
}

const getDeviceCodeFlowByPoll = `-- name: GetDeviceCodeFlowByPoll :one
SELECT identifier, session_identifier, code, poll, last_poll, created_at
FROM device_code_flows
WHERE poll = $1 LIMIT 1
`

func (q *Queries) GetDeviceCodeFlowByPoll(ctx context.Context, poll pgtype.UUID) (DeviceCodeFlow, error) {
	row := q.db.QueryRow(ctx, getDeviceCodeFlowByPoll, poll)
	var i DeviceCodeFlow
	err := row.Scan(
		&i.Identifier,
		&i.SessionIdentifier,
		&i.Code,
		&i.Poll,
		&i.LastPoll,
		&i.CreatedAt,
	)
	return i, err
}

const getGithubOAuthFlowByIdentifier = `-- name: GetGithubOAuthFlowByIdentifier :one
SELECT identifier, verifier, challenge, device_identifier, user_identifier, next_url, created_at
FROM github_oauth_flows
WHERE identifier = $1 LIMIT 1
`

func (q *Queries) GetGithubOAuthFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (GithubOauthFlow, error) {
	row := q.db.QueryRow(ctx, getGithubOAuthFlowByIdentifier, identifier)
	var i GithubOauthFlow
	err := row.Scan(
		&i.Identifier,
		&i.Verifier,
		&i.Challenge,
		&i.DeviceIdentifier,
		&i.UserIdentifier,
		&i.NextUrl,
		&i.CreatedAt,
	)
	return i, err
}

const getGoogleOAuthFlowByIdentifier = `-- name: GetGoogleOAuthFlowByIdentifier :one
SELECT identifier, verifier, challenge, device_identifier, user_identifier, next_url, created_at
FROM google_oauth_flows
WHERE identifier = $1 LIMIT 1
`

func (q *Queries) GetGoogleOAuthFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (GoogleOauthFlow, error) {
	row := q.db.QueryRow(ctx, getGoogleOAuthFlowByIdentifier, identifier)
	var i GoogleOauthFlow
	err := row.Scan(
		&i.Identifier,
		&i.Verifier,
		&i.Challenge,
		&i.DeviceIdentifier,
		&i.UserIdentifier,
		&i.NextUrl,
		&i.CreatedAt,
	)
	return i, err
}

const getMagicLinkFlowByIdentifier = `-- name: GetMagicLinkFlowByIdentifier :one
SELECT identifier, salt, hash, email_address, device_identifier, user_identifier, next_url, created_at
FROM magic_link_flows
WHERE identifier = $1 LIMIT 1
`

func (q *Queries) GetMagicLinkFlowByIdentifier(ctx context.Context, identifier pgtype.UUID) (MagicLinkFlow, error) {
	row := q.db.QueryRow(ctx, getMagicLinkFlowByIdentifier, identifier)
	var i MagicLinkFlow
	err := row.Scan(
		&i.Identifier,
		&i.Salt,
		&i.Hash,
		&i.EmailAddress,
		&i.DeviceIdentifier,
		&i.UserIdentifier,
		&i.NextUrl,
		&i.CreatedAt,
	)
	return i, err
}

const updateDeviceCodeFlowLastPollByPoll = `-- name: UpdateDeviceCodeFlowLastPollByPoll :execrows
UPDATE device_code_flows
SET last_poll = CURRENT_TIMESTAMP
WHERE poll = $1
`

func (q *Queries) UpdateDeviceCodeFlowLastPollByPoll(ctx context.Context, poll pgtype.UUID) (int64, error) {
	result, err := q.db.Exec(ctx, updateDeviceCodeFlowLastPollByPoll, poll)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}

const updateDeviceCodeFlowSessionIdentifierByIdentifier = `-- name: UpdateDeviceCodeFlowSessionIdentifierByIdentifier :execrows
UPDATE device_code_flows
SET session_identifier = $1
WHERE identifier = $2
`

type UpdateDeviceCodeFlowSessionIdentifierByIdentifierParams struct {
	SessionIdentifier pgtype.UUID
	Identifier        pgtype.UUID
}

func (q *Queries) UpdateDeviceCodeFlowSessionIdentifierByIdentifier(ctx context.Context, arg UpdateDeviceCodeFlowSessionIdentifierByIdentifierParams) (int64, error) {
	result, err := q.db.Exec(ctx, updateDeviceCodeFlowSessionIdentifierByIdentifier, arg.SessionIdentifier, arg.Identifier)
	if err != nil {
		return 0, err
	}
	return result.RowsAffected(), nil
}
